class TextScramble{constructor(t){this.el=t,this.chars="!<>-_\\/[]{}â€”=+*^?#________",this.update=this.update.bind(this)}setText(t){const e=this.el.innerText,s=Math.max(e.length,t.length),h=new Promise(t=>this.resolve=t);this.queue=[];for(let h=0;h<s;h++){const s=e[h]||"",a=t[h]||"",r=Math.floor(40*Math.random()),n=r+Math.floor(40*Math.random());this.queue.push({from:s,to:a,start:r,end:n})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),h}update(){let t="",e=0;for(let s=0,h=this.queue.length;s<h;s++){let{from:h,to:a,start:r,end:n,char:i}=this.queue[s];this.frame>=n?(e++,t+=a):this.frame>=r?((!i||Math.random()<.28)&&(i=this.randomChar(),this.queue[s].char=i),t+=`<span class="dud">${i}</span>`):t+=h}this.el.innerHTML=t,e===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}function elisisTextScramble(t,e,s){const h=document.querySelector(e),a=new TextScramble(h);let r=0;const n=()=>{a.setText(t[r]).then(()=>{setTimeout(n,s)}),r=(r+1)%t.length};n()}